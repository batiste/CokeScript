!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.cokescript=e()}}(function(){var e;return function n(e,r,t){function o(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(n){var r=e[a][1][n];return o(r?r:n)},l,l.exports,n,e,r,t)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<t.length;a++)o(t[a]);return o}({1:[function(e,n){function r(){return j[j.length-1]}function t(e){return j[j.length-1].hasOwnProperty(e)}function o(){return j.push({}),j[j.length-1]}function i(){j=[{}],x=1,M=[0],C=0,N=0}function a(e,n){var r;return r=n[n.length-1],r&&"\\"===r.value?void 0:e.match(/^#{/)?"#{":void 0}function s(e,n){var r,t,o,i;if("VAR"===e.type)return n+" + "+s(e.children[1],n)+" + "+n;if(void 0!==e.value)return e.value;if(r="",!e.children)return"";for(o=Object.keys(e.children),t=0;t<o.length;t++)i=e.children[o[t]],r+=s(i,n);return r}function u(){return M[M.length-1]}function c(e){return e>u()?"indent":e<u()?"dedent":e===u()?"samedent":void 0}function l(e){return function(n){var r,t,o;return r=n.match(/^\n[\s]*/),r&&(t=r[0].split("\n"),o=t[t.length-1].length,c(o)===e)?"dedent"===e?(M.pop(),""):("indent"===e&&M.push(o),r[0]):void 0}}function f(e){var n,r,t;if(n=e.charAt(0),'"'===n||"'"===n)for(r=1;e.charAt(r);){if(t=e.charAt(r),"\\"===t)r++;else if(t===n)return e.slice(0,r+1);r++}}function d(e){var n,r;if("/"===e.charAt(0))for(n=1;e.charAt(n);){if(r=e.charAt(n),"\\"===r)n++;else if("/"===r){for(n++;e.charAt(n)&&-1!=="igm".indexOf(e.charAt(n));)n++;return e.slice(0,n)}n++}}function p(e){return e.match(/^def[\(| |\n]/)?"def":0===e.indexOf("dom ")?"dom":void 0}function h(e){var n,r,t;if(n=e.match(/^#/))for(r=n[0].length;e.charAt(r);){if(t=e.charAt(r),"\n"===t)return e.slice(0,r);r++}}function v(e){return e}function y(e){var n,r;for(n="",r=0;e>r;)n+=" ",r++;return n}function g(e){return y(e?2*(C+e):2*C)}function m(){return D+"c"+B}function E(){return B++,D+"c"+B}function k(){return B--,D+"c"+B}function A(){var e,n,t,o,i,a;for(e=r(),n=[],o=Object.keys(e),t=0;t<o.length;t++)i=o[t],a=e[o[t]],"hoist"===a&&n.push(i);return n.length?"var "+n.join(", ")+";":""}function _(e){var n;n=r(),n[e]="hoist"}function b(e){var n,r,t,o;if(U[e.type])return U[e.type](e);if(void 0!==e.value)return e.value;if(n="",!e.children)return"";for(t=Object.keys(e.children),r=0;r<t.length;r++)o=e.children[t[r]],n+=b(o);return n}function R(e){var n,t,o,i;for(n="\nmodule.exports = {",e=e||Object.keys(r()),o=Object.keys(e),t=0;t<o.length;t++)i=e[o[t]],n+="\n  "+i+" : "+i+",";return n+"\n}"}function O(e){var n,t;if(i(),n=V.parse(e+"\n"),!n.complete)throw new Error(n.hint);return t={ast:n,code:b(n),ns:r()}}function P(e,n,r){var t,o,i,a,s,u;if(n.constructor===Array)return w.h(e,n,r);for(t={},o={},a=Object.keys(n),i=0;i<a.length;i++)s=a[i],u=n[a[i]],s.match(/^(checked|value|selected)$/)?t[s]=u:o[s]=u;return t.attributes=o,w.h(e,t,r)}var T,w,S,C,x,N,j,M,D,L,X,W,I,F,B,U,V;T=e("epegjs"),w=e("virtual-dom"),S=w.create,C=0,x=1,N=0,j=[{}],M=[0],D="__",L=[{key:"string",func:f},{key:"comment",func:h},{key:"function_def",func:p,verbose:"function"},{key:"class",reg:/^class /},{key:"ret",reg:/^return/,verbose:"return"},{key:"if",reg:/^if /},{key:"or",reg:/^or /},{key:"and",reg:/^and /},{key:"while",reg:/^while /},{key:"instanceof",reg:/^instanceof /},{key:"try",reg:/^try/},{key:"catch",reg:/^catch/},{key:"throw",reg:/^throw /},{key:"pazz",reg:/^pass/,verbose:"pass"},{key:"new",reg:/^new /},{key:"tag",reg:/^<[a-zA-Z][0-9a-zA-Z]{0,29}/},{key:">",reg:/^>/},{key:"elseif",reg:/^elseif /},{key:"else",reg:/^else/},{key:"for_loop",reg:/^for /,verbose:"for loop"},{key:"in",reg:/^in /},{key:"not",reg:/^not /,verbose:"not"},{key:"name",reg:/^[a-zA-Z_$]([0-9a-zA-Z_$\-]{0,28}[0-9a-zA-Z_$])?/},{key:"regexp",func:d,verbose:"regular expression"},{key:"math_operators",reg:/^(\+\+|\-\-)/,verbose:"math operator"},{key:"binary_operators",reg:/^(\&\&|\|\||\&|\||<<|\>\>)/,verbose:"binary operator"},{key:"comparison",reg:/^(<=|>=|<|>|!=|==)/},{key:"assign",reg:/^(\+=|-=|=|:=)/},{key:"number",reg:/^[-]?[0-9]+\.?[0-9]*/},{key:"comma",reg:/^\,/},{key:"dot",reg:/^\./},{key:"colon",reg:/^\:/,verbose:":"},{key:"open_par",reg:/^\(/,verbose:"("},{key:"close_par",reg:/^\)/,verbose:")"},{key:"open_bra",reg:/^\[/,verbose:"["},{key:"close_bra",reg:/^\]/,verbose:"]"},{key:"open_curly",reg:/^\{/,verbose:"{"},{key:"close_curly",reg:/^\}/,verbose:"}"},{key:"math",reg:/^[-|\+|\*|\/|%]/},{key:"samedent",func:l("samedent"),verbose:"same indentation"},{key:"dedent",func:l("dedent")},{key:"indent",func:l("indent")},{key:"W",reg:/^[ ]/,verbose:"single whitespace"}],X=[{key:"start",func:a},{key:"end",reg:/^}/},{key:"name",reg:/^[a-zA-Z_$][0-9a-zA-Z_]{0,29}/},{key:"dot",reg:/^\./},{key:"char",reg:/^./}],W={START:{rules:["EL* EOF"]},EL:{rules:["VAR","char","name","start","end","dot"]},VAR:{rules:["start NAME end"]},NAME:{rules:["name dot NAME","name"]}},I=T.compileGrammar(W,X),F={START:{rules:["LINE* EOF"]},ELC:{rules:["W* comment"],verbose:"comment"},LINE:{rules:["STATEMENT ELC? samedent+","STATEMENT ELC? !dedent","ELC? samedent","ELC !dedent"],verbose:"new line"},BLOCK:{rules:["indent pazz dedent","indent LINE+ dedent"]},STATEMENT:{rules:["ASSIGN","EXPR","IF","WHILE","FOR","RETURN","CLASS","TAG","DOM_ASSIGN","TRY_CATCH","THROW"]},CLASS_METHODS:{rules:["samedent* f:FUNC_DEF samedent*"],hooks:function(e){return e.f}},CLASS:{rules:["class n:name open_par p:name close_par indent m:CLASS_METHODS+ dedent","class n:name indent m:CLASS_METHODS+ dedent"],hooks:[function(e){return{name:e.n,methods:e.m,parent:e.p}},function(e){return{name:e.n,methods:e.m}}]},FUNC_DEF_PARAMS:{rules:["p1:FUNC_DEF_PARAMS comma W p2:FUNC_DEF_PARAMS","p1:name assign e:EXPR","p1:name"],verbose:"def parameters"},LAMBDA_BODY:{rules:["ASSIGN","EXPR"]},LAMBDA:{rules:["fd:function_def open_par params:FUNC_DEF_PARAMS? close_par W block:LAMBDA_BODY","fd:function_def W fn:name open_par params:FUNC_DEF_PARAMS? close_par W block:LAMBDA_BODY","fd:function_def W block:LAMBDA_BODY"],hooks:v},FUNC_DEF:{rules:["fd:function_def open_par params:FUNC_DEF_PARAMS? close_par block:BLOCK","fd:function_def W fn:name open_par params:FUNC_DEF_PARAMS? close_par block:BLOCK","fd:function_def W fn:name block:BLOCK","fd:function_def block:BLOCK"],hooks:v,verbose:"def definition"},ELSE_IF:{rules:["samedent elseif e:EXPR b:BLOCK"],hooks:v},ELSE:{rules:["samedent else b:BLOCK"],hooks:v},IF:{rules:["if e:EXPR b:BLOCK elif:ELSE_IF* el:ELSE?"],hooks:v},ELSE_EXPR:{rules:["W else W b:EXPR"],hooks:v},IF_EXPR:{rules:["e:EXPR W if test:EXPR el:ELSE_EXPR?"],hooks:v},WHILE:{rules:["while e:EXPR b:BLOCK"],hooks:v},MATH:{rules:["e1:EXPR W op:math W e2:EXPR"]},PATH:{rules:["PATH dot name","PATH open_bra number close_bra","name"]},ASSIGN:{rules:["left:OBJECT W op:assign W right:EXPR","left:EXPR W op:assign W right:EXPR","left:STRICT_COMMA_SEPARATED_EXPR W op:assign W right:STRICT_COMMA_SEPARATED_EXPR","left:STRICT_COMMA_SEPARATED_EXPR W op:assign W right:EXPR"],hooks:v},W_OR_SAMEDENT:{rules:["W","samedent"],verbose:"samedent or whitespace"},W_SAMEDENT_INDENT:{rules:["W","samedent","indent"],verbose:"indent or samedent or whitespace"},ANY_SPACE:{rules:["W","samedent","indent","dedent","comment"],verbose:"any space"},FUNC_CALL_PARAMS:{rules:["EXPR comma ANY_SPACE+ FUNC_CALL_PARAMS ANY_SPACE*","EXPR ANY_SPACE*"]},FUNC_CALL:{rules:["open_par FUNC_CALL_PARAMS? close_par"]},TYPE:{rules:["name colon"]},FOR:{rules:["for_loop k:name comma W v:name W in a:EXPR b:BLOCK","for_loop v:name W in a:EXPR b:BLOCK"],hooks:v},STRICT_COMMA_SEPARATED_EXPR:{rules:["e1:EXPR comma W e2:STRICT_COMMA_SEPARATED_EXPR","e1:EXPR comma W e2:EXPR"],hooks:[function(e){return[e.e1].concat(e.e2.children)},function(e){return[e.e1,e.e2]}]},COMMA_SEPARATED_EXPR:{rules:["EXPR comma ANY_SPACE+ COMMA_SEPARATED_EXPR ANY_SPACE*","EXPR ANY_SPACE*"]},ARRAY:{rules:["open_bra ANY_SPACE* c:COMMA_SEPARATED_EXPR? ANY_SPACE* close_bra"]},MEMBERS:{rules:["name:name colon W value:EXPR same:samedent? comma any:ANY_SPACE+ m:MEMBERS space:ANY_SPACE*","name:name colon W value:EXPR space:ANY_SPACE*"],hooks:[function(e){return[e].concat(e.m.children)},function(e){return[e]}]},OBJECT:{rules:["open_curly indent? MEMBERS? close_curly"]},TAG_PARAMS:{rules:["left:TAG_PARAMS W right:TAG_PARAMS","n:name assign e:EXPR","n:name"],hooks:v,verbose:"tag parameters"},TAG:{rules:["tag:tag W? params:TAG_PARAMS? end:>? block:BLOCK?"],hooks:v},DOM_ASSIGN:{rules:["assign EXPR"]},TRY_CATCH:{rules:["try b1:BLOCK samedent? catch open_par err:name? close_par b2:BLOCK"],hooks:v},THROW:{rules:["throw EXPR"]},RETURN:{rules:["ret W STRICT_COMMA_SEPARATED_EXPR","ret W EXPR","ret"]},RIGHT_EXPR:{rules:["math_operators","W binary_operators W EXPR","W or EXPR","W and EXPR","W comparison W EXPR","W > W EXPR","dot EXPR","W instanceof EXPR","open_bra EXPR close_bra","FUNC_CALL"],verbose:"expression"},EXPR:{rules:["IF_EXPR","MATH","OBJECT","FUNC_DEF","EXPR RIGHT_EXPR","name","number","LAMBDA","string","regexp","open_par EXPR close_par","new EXPR","not EXPR","ARRAY"],verbose:"expression"}},B=1,U={START:function(e){var n,r,t,o,i;for(n="",t=Object.keys(e.children),r=0;r<t.length;r++)o=e.children[t[r]],n+=b(o);return i=A(),i?A()+"\n"+n:n},dedent:function(){return C=Math.max(0,C-1),""},indent:function(){return C+=1,"\n"+g()},samedent:function(e){var n,r,t;for(n=e.value.split("\n").length-1,r=0,t="";n>r;)t+="\n"+g(),r++;return t},DOM_ASSIGN:function(e){var n,r,t;return n=m(),r=b(e.children[1]),_(m()),_(""+D+"tmp"),t=""+D+"tmp = "+r+"; "+D+"tmp instanceof Array ? ("+n+" = "+n+".concat("+D+"tmp)) : "+n+".push(String("+D+"tmp))"},TAG_PARAMS:function(e){var n;return e.children.left?b(e.children.left)+", "+b(e.children.right):(n=e.children.n.value,e.children.e?'"'+n+'": '+b(e.children.e):'"'+n+'": true')},TAG:function(e){var n,t,o,i,a;return n="",t="{",o=e.children.tag.value.substring(1),e.children.params&&(t+=b(e.children.params)),t+="}",i="[]",a=r(),e.children.block&&(i=E(),n+=m()+" = [];",_(m()),n+=b(e.children.block),k()),n+="\n"+g()+m()+'.push(cokescript.h("'+o+'", '+t+", "+i+"))"},CLASS:function(e){var n,r,t,i,a,s,u,c,l,f,d,p,h,v,y,m,E,k;for(n=e.children.name.value,r=e.children.methods,t=e.children.parent,i="",a=null,u=Object.keys(r),s=0;s<u.length;s++)c=r[u[s]],l=c.children,f=l.children.fn.value,"constructor"===f?a=l:i+="\n"+g()+n+".prototype."+f+" = "+b(l);for(_(n),d=o(),p=a&&a.children.params,p=p?b(p):"",h=a&&a.children.block,v=""+n+" = function "+n+" ( "+p+" ) {",v+="\n"+g(1)+"if(!(this instanceof "+n+")){ return new "+n+"("+Object.keys(d).join(",")+")}",m=Object.keys(d),y=0;y<m.length;y++)E=m[y],k=d[m[y]],k!==!0&&void 0!==k&&(v+="\n"+g(1)+"if("+E+" === undefined) {"+E+" = "+b(k)+"}");return h&&(v+=b(h)),v+=g()+"\n}",t&&(v+="\n"+g()+n+".prototype = Object.create("+t.value+".prototype)",v+="\n"+g()+n+".prototype.constructor = "+n),j.pop(),v+i},LAMBDA:function(e){var n,r,t,i,a,s,u,c;for(n="",r=o(),e.children.fn&&(n=e.children.fn.value,r[n]=!0),t="function "+n+"(",e.children.params&&(t+=b(e.children.params,r)),t+=") {",a=Object.keys(r),i=0;i<a.length;i++)s=a[i],u=r[a[i]],u!==!0&&void 0!==u&&(c=b(u),t+="\n"+g(1)+"if("+s+" === undefined) {"+s+" = "+c+"}");return e.children.block&&(t+=" return "+b(e.children.block,r)),j.pop(),t+"; }"},FUNC_DEF:function(e){var n,t,i,a,s,u,c,l,f,d,p;for(n="",t=r(),i="dom"===e.children.fd.value,e.children.fn&&(n=e.children.fn.value,t[n]=!0),t=o(),a="function "+n+"(",e.children.params&&(a+=b(e.children.params)),a+=") {",u=Object.keys(t),s=0;s<u.length;s++)c=u[s],l=t[u[s]],l!==!0&&void 0!==l&&(f=b(l),a+="\n"+g(1)+"if("+c+" === undefined) {"+c+" = "+f+";}");return d="",e.children.block&&(d=b(e.children.block)),i&&(a+="\n"+g(1)+"var "+m()+" = [];"),p=A(),p&&(a+="\n"+g(1)+p),a+=d,j.pop(),i&&(a+="\n"+g(1)+"return "+m()+";"),a+"\n"+g()+"}"},FUNC_DEF_PARAMS:function(e){var n,t,o,i,a;for(n="",t=r(),"name"===e.children[0].type&&(t[e.children[0].value]=!0,e.children[1]&&"assign"===e.children[1].type&&(t[e.children[0].value]=e.children[2])),i=Object.keys(e.children),o=0;o<i.length;o++)a=e.children[i[o]],("name"===a.type||"FUNC_DEF_PARAMS"===a.type||"comma"===a.type||"window"===a.type)&&(n+=b(a));return n},ASSIGN:function(e){var n,o,i,a,s,u,c,l,f,d,p,h,v,y,m,E,k,A,R,O,P,T,w,S;if(n="",o=e.children.op.value,i=":="===o,i&&(o="="),a=r(),s=e.children.left,u=b(e.children.right),"STRICT_COMMA_SEPARATED_EXPR"===s.type){for(N++,c=""+D+"unpack"+N,n+="var "+c+" = "+u+";\n"+g(),l=0,d=Object.keys(s.children),f=0;f<d.length;f++)p=s.children[d[f]],h=p.children[0],"name"===h.type&&1===p.children.length&&_(h.value),n+=b(p)+" "+o+" "+c+"["+l+"]",l<s.children.length-1&&(n+=";\n"+g()),l++;return n}if("OBJECT"===s.type){for(N++,c=""+D+"unpack"+N,n+="var "+c+" = "+u+";\n"+g(),l=0,v=s.children[1].children,m=Object.keys(v),y=0;y<m.length;y++){if(E=v[m[y]],k=b(E.name),A=b(E.value),E.samedent&&b(E.samedent),E.any)for(O=Object.keys(E.any),R=0;R<O.length;R++)P=E.any[O[R]],b(P);if(E.space)for(w=Object.keys(E.space),T=0;T<w.length;T++)P=E.space[w[T]],b(P);n+=""+A+"."+k+" = "+c+"."+k,l<v.length-1&&(n+=";\n"+g()),l++}return n}return"name"===s.children[0].type&&(S=s.children[0],t(S.value)||i||_(S.value)),b(e.children.left)+" "+o+" "+u},STATEMENT:function(e){var n,r,t,o,i,a,s;for(n="",t=Object.keys(e.children),r=0;r<t.length;r++)o=e.children[t[r]],i=o.children&&o.children[0],a=o.type,n+=b(o),s=i&&("FUNC_DEF"===i.type||"LAMBDA"===i.type),"FOR"===a||"TRY_CATCH"===a||"WHILE"===a||"IF"===a||"STATEMENT"===a||"samedent"===a||s||(n+=";");return n},IF:function(e){var n,r,t,o,i;if(n="",n="if("+b(e.children.e)+") {"+b(e.children.b)+"\n"+g()+"}",r=e.children.elif)if(Array.isArray(r))for(o=Object.keys(r),t=0;t<o.length;t++)i=r[o[t]],n+=b(i);else n+=b(r);return e.children.el&&(n+=b(e.children.el)),n},IF_EXPR:function(e){var n;return n="",n=b(e.children.test)+" ? "+b(e.children.e)+" : ",n+=e.children.el?b(e.children.el):"undefined"},ELSE_EXPR:function(e){return b(e.children.b)},WHILE:function(e){return"while("+b(e.children.e)+"){"+b(e.children.b)+"\n"+g()+"}"},FOR:function(e){var n,r,t,o,i,a;return n=D+"index"+x,r=D+"keys"+x,_(n),_(r),t=b(e.children.a),o=e.children.v.value,x++,i=!1,e.children.k&&(i=e.children.k.value),i&&_(i),_(o),a=""+r+" = Object.keys("+t+");\n",a+=g()+"for("+n+" = 0; "+n+" < "+r+".length; "+n+"++) {\n",i&&(a+=g(1)+""+i+" = "+r+"["+n+"];\n"),a+=g(1)+""+o+" = "+t+"["+r+"["+n+"]];",a+=b(e.children.b)+"\n"+g()+"}"},ELSE_IF:function(e){return" else if("+b(e.children.e)+") {"+b(e.children.b)+"\n"+g()+"}"},ELSE:function(e){return" else {"+b(e.children.b)+"\n"+g()+"}"},TRY_CATCH:function(e){var n;return n="try {",n+=b(e.children.b1),n+="\n"+g()+"} catch("+b(e.children.err)+") {",n+=b(e.children.b2),n+"\n"+g()+"}"},STRICT_COMMA_SEPARATED_EXPR:function(e){var n,r,t,o;for(n=[],t=Object.keys(e.children),r=0;r<t.length;r++)o=e.children[t[r]],n.push(b(o));return"["+n.join(", ")+"]"},MEMBERS:function(e){var n,r,t,o,i,a,s,u,c,l;for(n="",r=0,o=Object.keys(e.children),t=0;t<o.length;t++){if(i=e.children[o[t]],n+=b(i.name)+": "+b(i.value),r<e.children.length-1&&(n+=", "),i.same&&(n+=b(i.same)),i.any)for(s=Object.keys(i.any),a=0;a<s.length;a++)u=i.any[s[a]],b(u);if(i.space)for(l=Object.keys(i.space),c=0;c<l.length;c++)u=i.space[l[c]],n+=b(u);r++}return n},string:function(e){var n,r;if(n=e.value,n=n.replace(/\n/g,"\\n"),r=I.parse(n),!r.complete)throw new Error(r.hint);return s(r,n.charAt(0))},comment:function(e){return e.value.replace(/^#/g,"//")},name:function(e){return e.value.replace("-","_")},pazz:function(){return""},not:function(){return"!"},and:function(){return"&& "},or:function(){return"|| "},comparison:function(e){return"=="===e.value?"===":"!="===e.value?"!==":e.value}},V=T.compileGrammar(F,L),n.exports={v:w,h:P,create:w.create,diff:w.diff,patch:w.patch,grammar:V,strGrammar:I,grammarDef:F,epegjs:T,tokenDef:L,generateModule:O,generateCode:b,generateExports:R}},{epegjs:4,"virtual-dom":13}],2:[function(){},{}],3:[function(e,n){n.exports=function(e){var n,r=String.prototype.split,t=/()??/.exec("")[1]===e;return n=function(n,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return r.call(n,o,i);var a,s,u,c,l=[],f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),d=0,o=new RegExp(o.source,f+"g");for(n+="",t||(a=new RegExp("^"+o.source+"$(?!\\s)",f)),i=i===e?-1>>>0:i>>>0;(s=o.exec(n))&&(u=s.index+s[0].length,!(u>d&&(l.push(n.slice(d,s.index)),!t&&s.length>1&&s[0].replace(a,function(){for(var n=1;n<arguments.length-2;n++)arguments[n]===e&&(s[n]=e)}),s.length>1&&s.index<n.length&&Array.prototype.push.apply(l,s.slice(1)),c=s[0].length,d=u,l.length>=i)));)o.lastIndex===s.index&&o.lastIndex++;return d===n.length?(c||!o.test(""))&&l.push(""):l.push(n.slice(d)),l.length>i?l.slice(0,i):l}}()},{}],4:[function(n,r,t){(function(o){!function(n){if("object"==typeof t&&"undefined"!=typeof r)r.exports=n();else if("function"==typeof e&&e.amd)e([],n);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof o?i=o:"undefined"!=typeof self&&(i=self),i.EPEG=n()}}(function(){return function e(r,t,o){function i(s,u){if(!t[s]){if(!r[s]){var c="function"==typeof n&&n;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=t[s]={exports:{}};r[s][0].call(f.exports,function(e){var n=r[s][1][e];return i(n?n:e)},f,f.exports,e,r,t,o)}return t[s].exports}for(var a="function"==typeof n&&n,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,n){"use strict";function r(e,n){for(var r,t,o,i=n.tokenKeys,a=n.tokenMap,s=[],u=e.length,c=e,l=null,f=0;u>f;){for(r=null,t=0;t<i.length;t++){o=i[t];var d,p=a[o];if(p.func){if(d=p.func(e,s),void 0!==d){r=d;break}}else{if(!p.reg)throw new Error("Tokenizer error: Invalid token "+o+" without a reg or func property");if(d=e.match(p.reg),null!==d){r=d[0];break}}}if(null===r){if(0===s.length)throw new Error("Tokenizer error: total match failure");l&&(l.pointer+=l.value.length);var v=h(c,s[s.length-1],"Tokenizer error","No matching token found");throw l&&(v+="\nBefore token of type "+l.type+": "+l.value),new Error(v)}l={type:o,value:r,pointer:f},s.push(l),f+=r.length,e=e.substr(r.length)}return s.push({type:"EOF",value:""}),s}function t(e,n){var r={type:e.type,value:e.value,repeat:n.repeat};return n.name&&(r.name=n.name),r}function o(e){var n={},r=0;return e.map(function(e){e.name&&("*"==e.repeat||"+"==e.repeat?(n[e.name]||(n[e.name]=[]),n[e.name].push(e)):n[e.name]=e),n["$"+r]=e,r++}),n}function i(e,n,r,t,o){for(var i,a,s=!1,u=e[n.key].hooks[n.index];;){if(i=t,a=c(e,n,r,i),a===!1||a.sp<=o.sp)return s;a.hook=u,o.children=a.children,o.sp=a.sp,o.start=a.start,o.hooked=a.hooked,o.hook=a.hook,s=a}return s}function a(e,n,r,t){for(var o=n.key+";"+t+";"+n.index,i=E.length-1;i>=0;){if(E[i][0]==o)return!1;i-=1}var a=k[n.key+";"+t];if(void 0!==a)return a;E.push([o,n]);var s=c(e,n,r,t);return E.pop(),s}function s(e,n){return"*"===e.repeat||"?"===e.repeat?!0:"+"===e.repeat&&n.children.length&&n.children[n.children.length-1].type==e.type?!0:!1}function u(e){return"*"===e.repeat||"+"===e.repeat}function c(e,n,r,o){for(var c,l,f=o,d=0,p={type:n.key,children:[],start:o,name:n.name},h=n.tokens[d],v=r[f];h&&v;){if(e[h.type]){var y=e[h.type].rules,g=e[h.type].hooks;l=!1;var m=k[h.type+";"+f];if(m&&(l=m),!l)for(c=0;c<y.length;c++){var E=y[c],b=g[c];if(l=a(e,E,r,f)){if(l.hook=b,k[E.key+";"+f]=l,h.repeat===!1){var R=i(e,n,r,f,l);if(R!==!1)return R}break}}if(l)f=l.sp,p.children.push({type:h.type,children:l.children,sp:l.sp,hook:l.hook,name:h.name,repeat:h.repeat}),u(h)||d++;else{if(!s(h,p))return!1;d++}}else if(v.type===h.type)h.nonCapturing||(p.children.push(t(v,h)),f++),u(h)||d++;else{if(!s(h,p))return!1;d++}if(_===f&&A.candidates.push([n,n.tokens[d]]),f>_&&(A={sp:f,candidates:[[n,n.tokens[d]]]},_=f),h=n.tokens[d],v=r[f],void 0===h)return p.sp=f,p.rp=d,p;if(void 0===v)return s(h,p)?(p.sp=f,p.rp=d,p):!1}return!1}function l(e,n){return e.split(n).map(function(e){return e.trim()})}function f(e){var n="!"===e.charAt(0);n&&(e=e.substr(1));var r=e.charAt(e.length-1);"*"===r||"?"===r||"+"===r?e=e.substr(0,e.length-1):r=!1;var t,o=e.split(":");if(t=2===o.length?{type:o[1],name:o[0]}:{type:e},t.repeat=r,("*"===r||"+"===r)&&n)throw new Error("Impossible to have non capturing token that repeats");return n&&(t.nonCapturing=n),t}function d(e,n){var r,t,o,i,a=Object.keys(e),s={};s.tokenDef=n,s.tokenKeys=[],s.tokenMap={},n.map(function(e){s.tokenMap[e.key]=e,s.tokenKeys.push(e.key)});var u=a.concat(s.tokenKeys);for(r=0;r<a.length;r++){var c=e[a[r]],d=a[r],p=c.rules,h=[],v=[];for(t=0;t<p.length;t++){var y=l(p[t]," ");for(i=0,o=0;o<y.length;o++){var g=y[o]=f(y[o]);if(-1===u.indexOf(g.type)&&"EOF"!==g.type)throw new Error("Invalid token type used in the grammar rule "+d+": "+g.type+", valid tokens are: "+u.join(", "));if("*"===g.repeat&&(i+=1),g.nonCapturing&&y[y.length-1]!=y[o])throw new Error("A non capturing token can only be the last one in the rule: "+g.type)}if(i===y.length)throw new Error("Rule "+p[t]+" only has optional greedy tokens.");if(v.push({key:d,index:t,tokens:y}),"function"==typeof c.hooks)h.push(c.hooks);else if(c.hooks){if(void 0===c.hooks[t])throw new Error("Incorrect number of hooks ar rule "+a[r]);h.push(c.hooks[t])}}s[d]={rules:v,hooks:h||[],verbose:c.verbose}}return s.parse=function(e){return m(e,s)},s}function p(e){for(var n="",r=0;e>r;r++)n+=" ";return n}function h(e,n,r,t){var o,i=n.pointer||0,a=e.split("\n"),s=0,u=0;for(o=0;o<a.length&&(s+=a[o].length+1,!(s>=i));o++)u+=a[o].length+1;var c=Math.max(0,o),l=r+" at line "+(c+1)+" char "+(i-u)+": ",f="\n"+p(i-u+(c+": ").length);return void 0!==a[c-1]&&(l=l+"\n"+c+": "+a[c-1]),l=l+"\n"+(c+1)+": "+a[c]+f,l=l+"^-- "+t,void 0!==a[c+1]&&(l=l+"\n"+(c+2)+": "+a[c+1]),l}function v(e,n){var r=e.tokenMap[n];return r&&r.verbose?r.verbose:e[n]&&e[n].verbose?e[n].verbose:n}function y(e,n,r,t){if(!r||!r.candidates[0])return"Complete failure to parse";var o=r.candidates[0][0],i=[];r.candidates.map(function(e){if(e[1]){var n=v(t,e[1].type);-1===i.indexOf(n)&&i.push(n)}});var a=i.join(" or "),s=h(e,n[r.sp],"Parser error","Rule "+v(t,o.key));s=s+"\nExpect "+a;var u=n[r.sp]||{type:"EOF"};return s=s+"\nBut got "+v(t,u.type)+" instead"}function g(e){if(e.children){for(var n=0;n<e.children.length;n++)g(e.children[n]);e.hook&&(e.children=e.hook(o(e.children)))}}function m(e,n){var t,o,i,s={type:"START",sp:0,complete:!1};for(i=r(e,n),A={sp:0,candidates:[]},_=0,t=0;t<n.START.rules.length;t++)E=[],k={},o=a(n,n.START.rules[t],i,0),o&&o.sp>s.sp&&(s={type:"START",children:o.children,sp:o.sp,complete:o.sp===i.length,inputLength:i.length});return s.bestParse=A,g(s),A&&!s.complete&&(s.hint=y(e,i,A,n)),s}var E=[],k={},A=null,_=0;n.exports={parse:m,stack:E,compileGrammar:d,tokenize:r,memoization:k}},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,n){"use strict";function r(e){var n=e[i];return n||(n=e[i]={}),n}var t=e("individual/one-version"),o="7";t("ev-store",o);var i="__EV_STORE_KEY@"+o;n.exports=r},{"individual/one-version":8}],6:[function(e,n){(function(r){var t,o="undefined"!=typeof r?r:"undefined"!=typeof window?window:{},i=e("min-document");"undefined"!=typeof document?t=document:(t=o["__GLOBAL_DOCUMENT_CACHE@4"],t||(t=o["__GLOBAL_DOCUMENT_CACHE@4"]=i)),n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":2}],7:[function(e,n){(function(e){"use strict";function r(e,n){return e in t?t[e]:(t[e]=n,n)}var t="undefined"!=typeof window?window:"undefined"!=typeof e?e:{};n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,n){"use strict";function r(e,n,r){var o="__INDIVIDUAL_ONE_VERSION_"+e,i=o+"_ENFORCE_SINGLETON",a=t(i,n);if(a!==n)throw new Error("Can only have one copy of "+e+".\nYou already have version "+a+" installed.\nThis means you cannot install version "+n);return t(o,r)}var t=e("./index.js");n.exports=r},{"./index.js":7}],9:[function(e,n){"use strict";n.exports=function(e){return"object"==typeof e&&null!==e}},{}],10:[function(e,n){var r=e("./vdom/create-element.js");n.exports=r},{"./vdom/create-element.js":16}],11:[function(e,n){var r=e("./vtree/diff.js");n.exports=r},{"./vtree/diff.js":36}],12:[function(e,n){var r=e("./virtual-hyperscript/index.js");n.exports=r},{"./virtual-hyperscript/index.js":23}],13:[function(e,n){var r=e("./diff.js"),t=e("./patch.js"),o=e("./h.js"),i=e("./create-element.js");n.exports={diff:r,patch:t,h:o,create:i}},{"./create-element.js":10,"./diff.js":11,"./h.js":12,"./patch.js":14}],14:[function(e,n){var r=e("./vdom/patch.js");n.exports=r},{"./vdom/patch.js":19}],15:[function(e,n){function r(e,n,r){for(var i in n){var u=n[i];void 0===u?t(e,i,u,r):s(u)?(t(e,i,u,r),u.hook&&u.hook(e,i,r?r[i]:void 0)):a(u)?o(e,n,r,i,u):e[i]=u}}function t(e,n,r,t){if(t){var o=t[n];if(s(o))o.unhook&&o.unhook(e,n,r);else if("attributes"===n)for(var i in o)e.removeAttribute(i);else if("style"===n)for(var a in o)e.style[a]="";else e[n]="string"==typeof o?"":null}}function o(e,n,r,t,o){var s=r?r[t]:void 0;if("attributes"!==t){if(s&&a(s)&&i(s)!==i(o))return void(e[t]=o);a(e[t])||(e[t]={});var u="style"===t?"":void 0;for(var c in o){var l=o[c];e[t][c]=void 0===l?u:l}}else for(var f in o){var d=o[f];void 0===d?e.removeAttribute(f):e.setAttribute(f,d)}}function i(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var a=e("is-object"),s=e("../vnode/is-vhook.js");n.exports=r},{"../vnode/is-vhook.js":27,"is-object":9}],16:[function(e,n){function r(e,n){var c=n?n.document||t:t,l=n?n.warn:null;if(e=u(e).a,s(e))return e.init();if(a(e))return c.createTextNode(e.text);if(!i(e))return l&&l("Item is not a valid virtual dom node",e),null;var f=null===e.namespace?c.createElement(e.tagName):c.createElementNS(e.namespace,e.tagName),d=e.properties;o(f,d);for(var p=e.children,h=0;h<p.length;h++){var v=r(p[h],n);v&&f.appendChild(v)}return f}var t=e("global/document"),o=e("./apply-properties"),i=e("../vnode/is-vnode.js"),a=e("../vnode/is-vtext.js"),s=e("../vnode/is-widget.js"),u=e("../vnode/handle-thunk.js");n.exports=r},{"../vnode/handle-thunk.js":25,"../vnode/is-vnode.js":28,"../vnode/is-vtext.js":29,"../vnode/is-widget.js":30,"./apply-properties":15,"global/document":6}],17:[function(e,n){function r(e,n,r,o){return r&&0!==r.length?(r.sort(i),t(e,n,r,o,0)):{}}function t(e,n,r,i,s){if(i=i||{},e){o(r,s,s)&&(i[s]=e);var u=n.children;if(u)for(var c=e.childNodes,l=0;l<n.children.length;l++){s+=1;var f=u[l]||a,d=s+(f.count||0);o(r,s,d)&&t(c[l],f,r,i,s),s=d}}return i}function o(e,n,r){if(0===e.length)return!1;for(var t,o,i=0,a=e.length-1;a>=i;){if(t=(a+i)/2>>0,o=e[t],i===a)return o>=n&&r>=o;if(n>o)i=t+1;else{if(!(o>r))return!0;a=t-1}}return!1}function i(e,n){return e>n?1:-1}var a={};n.exports=r},{}],18:[function(e,n){function r(e,n,r){var u=e.type,d=e.vNode,h=e.patch;switch(u){case p.REMOVE:return t(n,d);case p.INSERT:return o(n,h,r);case p.VTEXT:return i(n,d,h,r);case p.WIDGET:return a(n,d,h,r);case p.VNODE:return s(n,d,h,r);case p.ORDER:return c(n,h),n;case p.PROPS:return f(n,h,d.properties),n;case p.THUNK:return l(n,r.patch(n,h,r));default:return n}}function t(e,n){var r=e.parentNode;return r&&r.removeChild(e),u(e,n),null}function o(e,n,r){var t=h(n,r);return e&&e.appendChild(t),e}function i(e,n,r,t){var o;if(3===e.nodeType)e.replaceData(0,e.length,r.text),o=e;else{var i=e.parentNode;o=h(r,t),i&&i.replaceChild(o,e)}return o}function a(e,n,r,t){var o,i=v(n,r);o=i?r.update(n,e)||e:h(r,t);var a=e.parentNode;return a&&o!==e&&a.replaceChild(o,e),i||u(e,n),o}function s(e,n,r,t){var o=e.parentNode,i=h(r,t);return o&&o.replaceChild(i,e),i}function u(e,n){"function"==typeof n.destroy&&d(n)&&n.destroy(e)}function c(e,n){var r,t=[],o=e.childNodes,i=o.length,a=n.reverse;for(r=0;i>r;r++)t.push(e.childNodes[r]);var s,u,c,l,f,d=0;for(r=0;i>r;){if(s=n[r],l=1,void 0!==s&&s!==r){for(;n[r+l]===s+l;)l++;for(a[r]>r+l&&d++,u=t[s],c=o[r+d]||null,f=0;u!==c&&f++<l;)e.insertBefore(u,c),u=t[s+f];r>s+l&&d--}r in n.removes&&d++,r+=l}}function l(e,n){return e&&n&&e!==n&&e.parentNode&&(console.log(e),e.parentNode.replaceChild(n,e)),n}var f=e("./apply-properties"),d=e("../vnode/is-widget.js"),p=e("../vnode/vpatch.js"),h=e("./create-element"),v=e("./update-widget");n.exports=r},{"../vnode/is-widget.js":30,"../vnode/vpatch.js":33,"./apply-properties":15,"./create-element":16,"./update-widget":20}],19:[function(e,n){function r(e,n){return t(e,n)}function t(e,n,r){var s=i(n);if(0===s.length)return e;var c=u(e,n.a,s),l=e.ownerDocument;r||(r={patch:t},l!==a&&(r.document=l));for(var f=0;f<s.length;f++){var d=s[f];e=o(e,c[d],n[d],r)}return e}function o(e,n,r,t){if(!n)return e;var o;if(s(r))for(var i=0;i<r.length;i++)o=c(r[i],n,t),n===e&&(e=o);else o=c(r,n,t),n===e&&(e=o);return e}function i(e){var n=[];for(var r in e)"a"!==r&&n.push(Number(r));return n}var a=e("global/document"),s=e("x-is-array"),u=e("./dom-index"),c=e("./patch-op");n.exports=r},{"./dom-index":17,"./patch-op":18,"global/document":6,"x-is-array":37}],20:[function(e,n){function r(e,n){return t(e)&&t(n)?"name"in e&&"name"in n?e.id===n.id:e.init===n.init:!1}var t=e("../vnode/is-widget.js");n.exports=r},{"../vnode/is-widget.js":30}],21:[function(e,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}var t=e("ev-store");n.exports=r,r.prototype.hook=function(e,n){var r=t(e),o=n.substr(3);r[o]=this.value},r.prototype.unhook=function(e,n){var r=t(e),o=n.substr(3);r[o]=void 0}},{"ev-store":5}],22:[function(e,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}n.exports=r,r.prototype.hook=function(e,n){e[n]!==this.value&&(e[n]=this.value)}},{}],23:[function(e,n){"use strict";function r(e,n,r){var i,s,u,c,f=[];return!r&&a(n)&&(r=n,s={}),s=s||n||{},i=g(e,s),s.hasOwnProperty("key")&&(u=s.key,s.key=void 0),s.hasOwnProperty("namespace")&&(c=s.namespace,s.namespace=void 0),"INPUT"!==i||c||!s.hasOwnProperty("value")||void 0===s.value||v(s.value)||(s.value=m(s.value)),o(s),void 0!==r&&null!==r&&t(r,f,i,s),new l(i,s,f,u,c)}function t(e,n,r,o){if("string"==typeof e)n.push(new f(e));else if(i(e))n.push(e);else{if(!c(e)){if(null===e||void 0===e)return;throw s({foreignObject:e,parentVnode:{tagName:r,properties:o}})}for(var a=0;a<e.length;a++)t(e[a],n,r,o)}}function o(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(v(r))continue;"ev-"===n.substr(0,3)&&(e[n]=E(r))}}function i(e){return d(e)||p(e)||h(e)||y(e)}function a(e){return"string"==typeof e||c(e)||i(e)}function s(e){var n=new Error;return n.type="virtual-hyperscript.unexpected.virtual-element",n.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+u(e.foreignObject)+".\nThe parent vnode is:\n"+u(e.parentVnode),n.foreignObject=e.foreignObject,n.parentVnode=e.parentVnode,n}function u(e){try{return JSON.stringify(e,null,"    ")}catch(n){return String(e)}}var c=e("x-is-array"),l=e("../vnode/vnode.js"),f=e("../vnode/vtext.js"),d=e("../vnode/is-vnode"),p=e("../vnode/is-vtext"),h=e("../vnode/is-widget"),v=e("../vnode/is-vhook"),y=e("../vnode/is-thunk"),g=e("./parse-tag.js"),m=e("./hooks/soft-set-hook.js"),E=e("./hooks/ev-hook.js");n.exports=r},{"../vnode/is-thunk":26,"../vnode/is-vhook":27,"../vnode/is-vnode":28,"../vnode/is-vtext":29,"../vnode/is-widget":30,"../vnode/vnode.js":32,"../vnode/vtext.js":34,"./hooks/ev-hook.js":21,"./hooks/soft-set-hook.js":22,"./parse-tag.js":24,"x-is-array":37}],24:[function(e,n){"use strict";function r(e,n){if(!e)return"DIV";
var r=!n.hasOwnProperty("id"),a=t(e,o),s=null;i.test(a[1])&&(s="DIV");var u,c,l,f;for(f=0;f<a.length;f++)c=a[f],c&&(l=c.charAt(0),s?"."===l?(u=u||[],u.push(c.substring(1,c.length))):"#"===l&&r&&(n.id=c.substring(1,c.length)):s=c);return u&&(n.className&&u.push(n.className),n.className=u.join(" ")),n.namespace?s:s.toUpperCase()}var t=e("browser-split"),o=/([\.#]?[a-zA-Z0-9_:-]+)/,i=/^\.|#/;n.exports=r},{"browser-split":3}],25:[function(e,n){function r(e,n){var r=e,o=n;return s(n)&&(o=t(n,e)),s(e)&&(r=t(e,null)),{a:r,b:o}}function t(e,n){var r=e.vnode;if(r||(r=e.vnode=e.render(n)),!(o(r)||i(r)||a(r)))throw new Error("thunk did not return a valid node");return r}var o=e("./is-vnode"),i=e("./is-vtext"),a=e("./is-widget"),s=e("./is-thunk");n.exports=r},{"./is-thunk":26,"./is-vnode":28,"./is-vtext":29,"./is-widget":30}],26:[function(e,n){function r(e){return e&&"Thunk"===e.type}n.exports=r},{}],27:[function(e,n){function r(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}n.exports=r},{}],28:[function(e,n){function r(e){return e&&"VirtualNode"===e.type&&e.version===t}var t=e("./version");n.exports=r},{"./version":31}],29:[function(e,n){function r(e){return e&&"VirtualText"===e.type&&e.version===t}var t=e("./version");n.exports=r},{"./version":31}],30:[function(e,n){function r(e){return e&&"Widget"===e.type}n.exports=r},{}],31:[function(e,n){n.exports="1"},{}],32:[function(e,n){function r(e,n,r,t,l){this.tagName=e,this.properties=n||u,this.children=r||c,this.key=null!=t?String(t):void 0,this.namespace="string"==typeof l?l:null;var f,d=r&&r.length||0,p=0,h=!1,v=!1,y=!1;for(var g in n)if(n.hasOwnProperty(g)){var m=n[g];s(m)&&m.unhook&&(f||(f={}),f[g]=m)}for(var E=0;d>E;E++){var k=r[E];o(k)?(p+=k.count||0,!h&&k.hasWidgets&&(h=!0),!v&&k.hasThunks&&(v=!0),y||!k.hooks&&!k.descendantHooks||(y=!0)):!h&&i(k)?"function"==typeof k.destroy&&(h=!0):!v&&a(k)&&(v=!0)}this.count=d+p,this.hasWidgets=h,this.hasThunks=v,this.hooks=f,this.descendantHooks=y}var t=e("./version"),o=e("./is-vnode"),i=e("./is-widget"),a=e("./is-thunk"),s=e("./is-vhook");n.exports=r;var u={},c=[];r.prototype.version=t,r.prototype.type="VirtualNode"},{"./is-thunk":26,"./is-vhook":27,"./is-vnode":28,"./is-widget":30,"./version":31}],33:[function(e,n){function r(e,n,r){this.type=Number(e),this.vNode=n,this.patch=r}var t=e("./version");r.NONE=0,r.VTEXT=1,r.VNODE=2,r.WIDGET=3,r.PROPS=4,r.ORDER=5,r.INSERT=6,r.REMOVE=7,r.THUNK=8,n.exports=r,r.prototype.version=t,r.prototype.type="VirtualPatch"},{"./version":31}],34:[function(e,n){function r(e){this.text=String(e)}var t=e("./version");n.exports=r,r.prototype.version=t,r.prototype.type="VirtualText"},{"./version":31}],35:[function(e,n){function r(e,n){var a;for(var s in e){s in n||(a=a||{},a[s]=void 0);var u=e[s],c=n[s];if(u!==c)if(o(u)&&o(c))if(t(c)!==t(u))a=a||{},a[s]=c;else if(i(c))a=a||{},a[s]=c;else{var l=r(u,c);l&&(a=a||{},a[s]=l)}else a=a||{},a[s]=c}for(var f in n)f in e||(a=a||{},a[f]=n[f]);return a}function t(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var o=e("is-object"),i=e("../vnode/is-vhook");n.exports=r},{"../vnode/is-vhook":27,"is-object":9}],36:[function(e,n){function r(e,n){var r={a:e};return t(e,n,r,0),r}function t(e,n,r,t){if(e!==n){var a=r[t],u=!1;if(E(e)||E(n))s(e,n,r,t);else if(null==n)m(e)||(i(e,r,t),a=r[t]),a=p(a,new v(v.REMOVE,e,n));else if(y(n))if(y(e))if(e.tagName===n.tagName&&e.namespace===n.namespace&&e.key===n.key){var c=A(e.properties,n.properties);c&&(a=p(a,new v(v.PROPS,e,c))),a=o(e,n,r,a,t)}else a=p(a,new v(v.VNODE,e,n)),u=!0;else a=p(a,new v(v.VNODE,e,n)),u=!0;else g(n)?g(e)?e.text!==n.text&&(a=p(a,new v(v.VTEXT,e,n))):(a=p(a,new v(v.VTEXT,e,n)),u=!0):m(n)&&(m(e)||(u=!0),a=p(a,new v(v.WIDGET,e,n)));a&&(r[t]=a),u&&i(e,r,t)}}function o(e,n,r,o,i){for(var a=e.children,s=f(a,n.children),u=a.length,c=s.length,l=u>c?u:c,d=0;l>d;d++){var h=a[d],g=s[d];i+=1,h?t(h,g,r,i):g&&(o=p(o,new v(v.INSERT,null,g))),y(h)&&h.count&&(i+=h.count)}return s.moves&&(o=p(o,new v(v.ORDER,e,s.moves))),o}function i(e,n,r){c(e,n,r),a(e,n,r)}function a(e,n,r){if(m(e))"function"==typeof e.destroy&&(n[r]=p(n[r],new v(v.REMOVE,e,null)));else if(y(e)&&(e.hasWidgets||e.hasThunks))for(var t=e.children,o=t.length,i=0;o>i;i++){var u=t[i];r+=1,a(u,n,r),y(u)&&u.count&&(r+=u.count)}else E(e)&&s(e,null,n,r)}function s(e,n,t,o){var i=k(e,n),a=r(i.a,i.b);u(a)&&(t[o]=new v(v.THUNK,null,a))}function u(e){for(var n in e)if("a"!==n)return!0;return!1}function c(e,n,r){if(y(e)){if(e.hooks&&(n[r]=p(n[r],new v(v.PROPS,e,l(e.hooks)))),e.descendantHooks||e.hasThunks)for(var t=e.children,o=t.length,i=0;o>i;i++){var a=t[i];r+=1,c(a,n,r),y(a)&&a.count&&(r+=a.count)}}else E(e)&&s(e,null,n,r)}function l(e){var n={};for(var r in e)n[r]=void 0;return n}function f(e,n){var r=d(n);if(!r)return n;var t=d(e);if(!t)return n;var o={},i={};for(var a in r)o[r[a]]=t[a];for(var s in t)i[t[s]]=r[s];for(var u=e.length,c=n.length,l=u>c?u:c,f=[],p=0,h=0,v=0,y={},g=y.removes={},m=y.reverse={},E=!1;l>p;){var k=i[h];if(void 0!==k)f[h]=n[k],k!==v&&(y[k]=v,m[v]=k,E=!0),v++;else if(h in i)f[h]=void 0,g[h]=v++,E=!0;else{for(;void 0!==o[p];)p++;if(l>p){var A=n[p];A&&(f[h]=A,p!==v&&(E=!0,y[p]=v,m[v]=p),v++),p++}}h++}return E&&(f.moves=y),f}function d(e){var n,r;for(n=0;n<e.length;n++){var t=e[n];void 0!==t.key&&(r=r||{},r[t.key]=n)}return r}function p(e,n){return e?(h(e)?e.push(n):e=[e,n],e):n}var h=e("x-is-array"),v=e("../vnode/vpatch"),y=e("../vnode/is-vnode"),g=e("../vnode/is-vtext"),m=e("../vnode/is-widget"),E=e("../vnode/is-thunk"),k=e("../vnode/handle-thunk"),A=e("./diff-props");n.exports=r},{"../vnode/handle-thunk":25,"../vnode/is-thunk":26,"../vnode/is-vnode":28,"../vnode/is-vtext":29,"../vnode/is-widget":30,"../vnode/vpatch":33,"./diff-props":35,"x-is-array":37}],37:[function(e,n){function r(e){return"[object Array]"===o.call(e)}var t=Array.isArray,o=Object.prototype.toString;n.exports=t||r},{}]},{},[1])(1)});